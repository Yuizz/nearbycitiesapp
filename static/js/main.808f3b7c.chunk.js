(this.webpackJsonpnearbycities=this.webpackJsonpnearbycities||[]).push([[0],{239:function(e,t,n){},240:function(e,t,n){},444:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(40),s=n.n(i),r=(n(239),n(3)),l=(n(240),n(463)),o=n(464),j=n(465),u=n(466),d=n(70),b=n(467),O=n(468),p=n(474),h=n(477),x=n(479),m=n(470),g=n(473),f=n(459),y=n(472),C=n(460),v=n(71),S=n(5),w=Object(v.withScriptjs)(Object(v.withGoogleMap)((function(e){var t=e.centerPoint,n=e.markers;e.props;return Object(S.jsxs)(v.GoogleMap,{defaultZoom:8,defaultCenter:{lat:t.lat,lng:t.lon},children:[Object(S.jsx)(v.Marker,{label:"Punto central",icon:{url:"http://maps.google.com/mapfiles/ms/icons/ylw-pushpin.png"},position:{lat:t.lat,lng:t.lon}}),n.map((function(e){return Object(S.jsx)(v.Marker,{label:e.name,labelStyle:{backgroundColor:"yellow",fontSize:"32px"},icon:{url:"http://maps.google.com/mapfiles/ms/icons/red.png"},position:{lat:e.lat,lng:e.lon}})}))]})}))),k="AIzaSyAbbIxHg2wBS8UMhttTyYIypjWnD9FWFa8";function L(e){var t=Object(f.a)(),n=t.isOpen,c=t.onOpen,a=t.onClose;return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.a,{isDisabled:e.isDisabled,onClick:c,mt:4,children:"Abrir mapa \ud83d\uddfa"}),Object(S.jsxs)(y.a,{isOpen:n,onClose:a,size:"6xl",children:[Object(S.jsx)(y.c,{}),Object(S.jsx)(y.b,{children:Object(S.jsx)(w,{centerPoint:{lat:e.latitude,lon:e.longitude},markers:e.cities,googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&key=".concat(k),containerElement:Object(S.jsx)("div",{style:{height:"550px"}}),mapElement:Object(S.jsx)("div",{style:{height:"100%"}}),loadingElement:Object(S.jsx)(C.a,{})})})]})]})}var B=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),s=Object(r.a)(i,2),f=s[0],y=s[1],C=Object(c.useState)(4),v=Object(r.a)(C,2),w=v[0],k=v[1],B=Object(c.useState)([]),D=Object(r.a)(B,2),F=D[0],I=D[1],M=Object(c.useState)([]),A=Object(r.a)(M,2),N=A[0],T=A[1],E=Object(c.useState)(!1),P=Object(r.a)(E,2),R=P[0],U=P[1],W=Object(c.useState)(!0),z=Object(r.a)(W,2),q=z[0],G=z[1],H=Object(l.a)(N.map((function(e){return e.name.toUpperCase()})).join(", ")),J=H.hasCopied,V=H.onCopy,Y=function(e){var t={longitude:y,latitude:a};return function(n){var c=K(n.currentTarget.value),a=!1;c!==e&&(a=!0),t[n.currentTarget.name](c),G(a)}},Z=function(e,t){T(e.slice(0,t))},K=function(e){var t=Number(e.split("\xb0")[0])+Number(e.substring(e.indexOf("\xb0")+1,e.indexOf("'")))/60+Number(e.substring(e.indexOf("'")+1,e.indexOf('"')))/3600;return(e.toLowerCase().includes("w")||e.toLowerCase().includes("s"))&&(t*=-1),t};return Object(S.jsx)("div",{className:"App",children:Object(S.jsx)(o.a,{minHeight:"100vh",width:"full",align:"center",justifyContent:"center",children:Object(S.jsxs)(j.a,{maxWidth:"450px",borderWidth:1,borderRadius:10,boxShadow:"2xl",px:4,py:4,textAlign:"center",children:[Object(S.jsx)(j.a,{my:8,children:Object(S.jsx)(u.a,{children:"Encontrar ciudades cercanas"})}),Object(S.jsxs)("form",{children:[Object(S.jsxs)(d.a,{isRequired:!0,mb:4,children:[Object(S.jsx)(b.a,{children:"Latitud: "}),Object(S.jsx)(O.a,{name:"latitude",placeholder:"Ingresa la latidud",onBlur:Y(n)})]}),Object(S.jsxs)(d.a,{isRequired:!0,mb:4,children:[Object(S.jsx)(b.a,{children:"Longitud: "}),Object(S.jsx)(O.a,{name:"longitude",placeholder:"Ingresa la longitud",onBlur:Y(f)})]}),Object(S.jsxs)(d.a,{children:[Object(S.jsx)(b.a,{children:"Numero de ciudades: "}),Object(S.jsxs)(p.c,{defaultValue:4,min:1,max:10,onChange:function(e){return k(Number(e))},children:[Object(S.jsx)(p.d,{}),Object(S.jsxs)(p.e,{children:[Object(S.jsx)(p.b,{}),Object(S.jsx)(p.a,{})]})]})]}),Object(S.jsx)(h.a,{colorScheme:"teal",isLoading:R,loadingText:"Buscando ciudades",width:"full",mt:4,onClick:n&&f?function(e){e.preventDefault();var t="https://nearby-cities.netlify.app/.netlify/functions/search?latitude=".concat(n,"&longitude=").concat(f);q?(U(!0),fetch(t).then((function(e){return e.json()})).then((function(e){I(e),Z(e,w),G(!1)})).finally((function(){return U(!1)}))):Z(F,w)}:null,children:"\ud83d\udd0d Buscar ciudades cercanas"})]}),Object(S.jsx)(b.a,{mt:10,children:"Ciudades cercanas: "}),Object(S.jsxs)(x.a,{borderColor:R?"teal":"",children:[Object(S.jsx)(O.a,{readOnly:!0,value:N.map((function(e){return e.name.toUpperCase()})).join(", ")}),Object(S.jsx)(m.a,{children:Object(S.jsx)(g.a,{label:"Copiar al portapapeles",hasArrow:!0,closeDelay:500,children:Object(S.jsx)(h.a,{onClick:V,children:J?"\u2714":"\ud83d\udccb"})})})]}),Object(S.jsx)(L,{latitude:n,longitude:f,cities:N,isDisabled:!n||!f||!N,mt:4})]})})})},D=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,480)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),c(e),a(e),i(e),s(e)}))},F=n(476);s.a.render(Object(S.jsx)(a.a.StrictMode,{children:Object(S.jsx)(F.a,{children:Object(S.jsx)(B,{})})}),document.getElementById("root")),D()}},[[444,1,2]]]);
//# sourceMappingURL=main.808f3b7c.chunk.js.map