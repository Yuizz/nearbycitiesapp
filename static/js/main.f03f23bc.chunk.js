(this.webpackJsonpnearbycities=this.webpackJsonpnearbycities||[]).push([[0],{86:function(e,t,n){},87:function(e,t,n){},94:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),i=n(29),r=n.n(i),s=(n(86),n(2)),l=(n(87),n(108)),u=n(109),o=n(110),d=n(111),j=n(32),b=n(112),O=n(113),h=n(118),x=n(119),f=n(121),g=n(116),p=n(117),m=n(6);var C=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),n=t[0],a=t[1],i=Object(c.useState)(""),r=Object(s.a)(i,2),C=r[0],v=r[1],y=Object(c.useState)(4),S=Object(s.a)(y,2),w=S[0],L=S[1],B=Object(c.useState)([]),N=Object(s.a)(B,2),I=N[0],T=N[1],k=Object(c.useState)(""),F=Object(s.a)(k,2),A=F[0],D=F[1],R=Object(c.useState)(!1),q=Object(s.a)(R,2),E=q[0],J=q[1],P=Object(c.useState)(!0),W=Object(s.a)(P,2),H=W[0],M=W[1],U=Object(l.a)(A),V=U.hasCopied,z=U.onCopy,G=function(e){var t={longitude:v,latitude:a};return function(n){var c=Q(n.currentTarget.value),a=!1;c!==e&&(a=!0),t[n.currentTarget.name](c),M(a),console.log(c)}},K=function(e,t){var n=e.map((function(e){return e.name.toUpperCase()})).slice(0,t);D(n.join(", "))},Q=function(e){var t=Number(e.split("\xb0")[0])+Number(e.substring(e.indexOf("\xb0")+1,e.indexOf("'")))/60+Number(e.substring(e.indexOf("'")+1,e.indexOf('"')))/3600;return(e.toLowerCase().includes("w")||e.toLowerCase().includes("s"))&&(t*=-1),t};return Object(m.jsx)("div",{className:"App",children:Object(m.jsx)(u.a,{minHeight:"100vh",width:"full",align:"center",justifyContent:"center",children:Object(m.jsxs)(o.a,{maxWidth:"450px",borderWidth:1,borderRadius:10,boxShadow:"2xl",px:4,py:4,textAlign:"center",children:[Object(m.jsx)(o.a,{my:8,children:Object(m.jsx)(d.a,{children:"Encontrar ciudades cercanas"})}),Object(m.jsxs)("form",{children:[Object(m.jsxs)(j.a,{isRequired:!0,mb:4,children:[Object(m.jsx)(b.a,{children:"Latitud: "}),Object(m.jsx)(O.a,{name:"latitude",placeholder:"Ingresa la latidud",onBlur:G(n)})]}),Object(m.jsxs)(j.a,{isRequired:!0,mb:4,children:[Object(m.jsx)(b.a,{children:"Longitud: "}),Object(m.jsx)(O.a,{name:"longitude",placeholder:"Ingresa la longitud",onBlur:G(C)})]}),Object(m.jsxs)(j.a,{children:[Object(m.jsx)(b.a,{children:"Numero de ciudades: "}),Object(m.jsxs)(h.c,{defaultValue:4,min:1,max:10,onChange:function(e){return L(Number(e))},children:[Object(m.jsx)(h.d,{}),Object(m.jsxs)(h.e,{children:[Object(m.jsx)(h.b,{}),Object(m.jsx)(h.a,{})]})]})]}),Object(m.jsx)(x.a,{colorScheme:"teal",isLoading:E,loadingText:"Buscando ciudades",width:"full",mt:4,onClick:n&&C?function(e){e.preventDefault();var t="https://nearby-cities.netlify.app/.netlify/functions/search?latitude=".concat(n,"&longitude=").concat(C);H?(J(!0),fetch(t).then((function(e){return e.json()})).then((function(e){console.log("fetching"),T(e),K(e,w),M(!1),console.log(e)})).finally((function(){return J(!1)}))):K(I,w)}:null,children:"\ud83d\udd0d Buscar ciudades cercanas"})]}),Object(m.jsx)(b.a,{mt:10,children:"Ciudades cercanas: "}),Object(m.jsxs)(f.a,{borderColor:E?"teal":"",children:[Object(m.jsx)(O.a,{readOnly:!0,value:A}),Object(m.jsx)(g.a,{children:Object(m.jsx)(p.a,{label:"Copiar al portapapeles",hasArrow:!0,defaultIsOpen:!0,closeDelay:500,children:Object(m.jsx)(x.a,{onClick:z,children:V?"\u2714":"\ud83d\udccb"})})})]})]})})})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,122)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),i(e),r(e)}))},y=n(120);r.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(y.a,{children:Object(m.jsx)(C,{})})}),document.getElementById("root")),v()}},[[94,1,2]]]);
//# sourceMappingURL=main.f03f23bc.chunk.js.map